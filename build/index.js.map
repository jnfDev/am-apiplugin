{"version":3,"file":"index.js","mappings":"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","sources":["webpack://am-apiplugin/./src/components/Block/Block.js","webpack://am-apiplugin/./src/components/BlockSettings/BlockSettings.js","webpack://am-apiplugin/./src/components/Error/Error.js","webpack://am-apiplugin/./src/components/Loading/Loading.js","webpack://am-apiplugin/./src/components/Table/Table.js","webpack://am-apiplugin/external window [\"wp\",\"blockEditor\"]","webpack://am-apiplugin/external window [\"wp\",\"blocks\"]","webpack://am-apiplugin/external window [\"wp\",\"components\"]","webpack://am-apiplugin/external window [\"wp\",\"element\"]","webpack://am-apiplugin/webpack/bootstrap","webpack://am-apiplugin/webpack/runtime/compat get default export","webpack://am-apiplugin/webpack/runtime/define property getters","webpack://am-apiplugin/webpack/runtime/hasOwnProperty shorthand","webpack://am-apiplugin/webpack/runtime/make namespace object","webpack://am-apiplugin/./src/index.js"],"sourcesContent":["import {InspectorControls } from '@wordpress/block-editor';\nimport { BlockSettings } from '../BlockSettings/BlockSettings';\nimport { Table }   from '../Table/Table';\nimport { Error }   from '../Error/Error';\nimport { Loading } from '../Loading/Loading';\n\nexport const Block = ({ attributes, setAttributes }) => {\n    const { adminVars, error, data, hiddenColumns } = attributes;\n\n    const setHiddenColumns = (hiddenColumns) => {\n        setAttributes({ hiddenColumns });\n    }\n\n    const render = () => {\n        if (!!error) {\n            return <Error error={error} />\n        }\n        \n        if (!!data) {\n            return <Table data={data} hiddenColumns={hiddenColumns} />\n        }\n    \n        return <Loading />\n    };\n\n    if (!data) {\n        jQuery.post(\n            adminVars.url,\n            {\n                action: adminVars.action,\n                wpnonce: adminVars.nonce,\n            },\n            ({ data, success }) => {\n                if (!success) {\n                    return setAttributes({ error: data.errorMessage });\n                }\n\n                setAttributes({ data });\n            }\n        );\n    }\n\n    return (\n        <div>\n            <InspectorControls key=\"setting\">\n                <BlockSettings \n                    hiddenColumns={hiddenColumns} \n                    setHiddenColumns={setHiddenColumns} \n                />\n            </InspectorControls>\n            {render()}\n        </div>\n    );\n}","import { ToggleControl } from '@wordpress/components';\n\nexport const BlockSettings = ({ hiddenColumns, setHiddenColumns }) => {\n    const _hiddenColumns = hiddenColumns || {};    \n\n    const hideID    = _hiddenColumns.id ? true : false;\n    const hideFname = _hiddenColumns.fname ? true : false;\n    const hideLname = _hiddenColumns.lname ? true : false;\n    const hideEmail = _hiddenColumns.email ? true : false;\n    const hideDate  = _hiddenColumns.date ? true : false;\n    \n    return (\n        <div className='block-settings'>\n            <ToggleControl\n                label = \"Hide ID\"\n                help = {\n                    hideID\n                        ? 'Hidden'\n                        : 'Visible.'\n                }\n                checked={!hideID}\n                onChange={checked => {\n                    if ( checked ) {\n                        delete _hiddenColumns.id;\n                    } else {\n                        _hiddenColumns.id = 'ID'\n                    }\n\n                    setHiddenColumns({..._hiddenColumns });\n                }}\n            />\n\n            <ToggleControl\n                label = \"Hide First Name\"\n                help = {\n                    hideFname\n                        ? 'Hidden'\n                        : 'Visible.'\n                }\n                checked={!hideFname}\n                onChange={checked => {\n                    if ( checked ) {\n                        delete _hiddenColumns.fname;\n                    } else {\n                        _hiddenColumns.fname = 'First Name';\n                    }\n\n                    setHiddenColumns({..._hiddenColumns });\n                }}\n            />\n            \n            <ToggleControl\n                label = \"Hide Last Name\"\n                help = {\n                    hideLname\n                        ? 'Hidden'\n                        : 'Visible'\n                }\n                checked={!hideLname}\n                onChange={checked => {\n                    if ( checked ) {\n                        delete _hiddenColumns.lname;\n                    } else {\n                        _hiddenColumns.lname = 'Last Name';\n                    }\n\n                    setHiddenColumns({..._hiddenColumns });\n                }}\n            />\n\n            <ToggleControl\n                label = \"Hide Email\"\n                help = {\n                    hideEmail\n                        ? 'Hidden'\n                        : 'Visible'\n                }\n                checked={!hideEmail}\n                onChange={checked => {\n                    if ( checked ) {\n                        delete _hiddenColumns.email;\n                    } else {\n                        _hiddenColumns.email = 'Email';\n                    }\n\n                    setHiddenColumns({..._hiddenColumns });\n                }}\n            />\n\n            <ToggleControl\n                label = \"Hide Date\"\n                help = {\n                    hideDate\n                        ? 'Hidden'\n                        : 'Visible'\n                }\n                checked={!hideDate}\n                onChange={checked => {\n                    if ( checked ) {\n                        delete _hiddenColumns.date;\n                    } else {\n                        _hiddenColumns.date = 'Date';\n                    }\n\n                    setHiddenColumns({..._hiddenColumns });\n                }}\n            />\n            \n        </div>\n    )\n};","export const Error = () => {\n    return (\n        <p>Error</p>\n    );\n};","export const Loading = () => {\n    return (\n        <p>Loading</p>\n    );\n};","/*\n    {\n        hiddenColumns: {\n            fname: \"First Name\"\n        }\n    }\n\n*/\nexport const Table = ({ data, hiddenColumns }) => {\n    const { title, data: table } = data;\n    const _hiddenColumns = hiddenColumns || {}; \n\n    return (\n        <>\n            <h4>{title}</h4>\n            <table>\n                <thead>\n                    <tr>\n                        {table.headers\n                        .filter((col) => ! Object.values(_hiddenColumns).includes(col))\n                        .map(\n                            (col) => {\n                                return (\n                                    <th>{col}</th>\n                                );\n\n                            }     \n                        )}\n                    </tr>\n                </thead>\n                <tbody>\n                    {Object.values(table.rows).map((row) => {\n                        return (\n                            <tr>\n                                {Object.entries(row)\n                                .filter(([ key, value ]) => ! Object.keys(_hiddenColumns).includes(key))\n                                .map(\n                                    ([ key, value ]) => {\n                                        return <td>{value}</td>\n                                    }\n                                )}\n                            </tr>\n                        );\n                    })}\n                </tbody>\n            </table>\n        </>\n    );\n};","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerBlockType } from '@wordpress/blocks';\nimport { useBlockProps } from '@wordpress/block-editor'\nimport { Block } from './components/Block/Block';\nimport { Table } from './components/Table/Table';\n \nregisterBlockType( 'am-apiplugin/am-apiblock', {\n    edit: ({ attributes, setAttributes }) => (\n        <div { ...useBlockProps() } >\n            <Block\n                attributes={attributes} \n                setAttributes={setAttributes} \n            />\n        </div>\n    ),\n    save: ({ attributes }) => {\n        const { data, hiddenColumns } = attributes;\n        return (\n            <div { ...useBlockProps.save() } >\n                <Table data={data} hiddenColumns={hiddenColumns} />\n            </div>\n        );\n    },\n} );"],"names":["InspectorControls","BlockSettings","Table","Error","Loading","Block","attributes","setAttributes","adminVars","error","data","hiddenColumns","setHiddenColumns","render","jQuery","post","url","action","wpnonce","nonce","success","errorMessage","ToggleControl","_hiddenColumns","hideID","id","hideFname","fname","hideLname","lname","hideEmail","email","hideDate","date","checked","title","table","headers","filter","col","Object","values","includes","map","rows","row","entries","key","value","keys","registerBlockType","useBlockProps","edit","save"],"sourceRoot":""}